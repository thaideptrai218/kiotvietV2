<!-- Filter Sidebar Fragment -->
<aside class="filterSidebar" th:fragment="filterSidebar">
    <form class="filterForm" id="productFilterForm">
        <div class="filterGroup">
            <div class="filterGroupHeader">
                <label class="filterGroupLabel" for="category-search">
                    Product category
                </label>
                <button type="button" class="iconOnlyButton" aria-label="Add category" onclick="addCategory()">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                </button>
            </div>
            <div class="searchField">
                <input
                    id="category-search"
                    type="text"
                    class="searchInput"
                    placeholder="Search categories"
                    oninput="filterCategories(this.value)"
                />
            </div>
        </div>

        <div class="filterGroup">
            <label class="filterGroupLabel" for="onhand-select">
                On hand
            </label>
            <select id="onhand-select" class="selectInput" onchange="applyFilters()" data-filter="onhand">
                <option value="all">All</option>
                <option value="in_stock">In stock</option>
                <option value="low">Low</option>
                <option value="out">Out</option>
            </select>
        </div>

        <div class="filterGroup">
            <label class="filterGroupLabel" for="created-select">
                Created date
            </label>
            <select
                id="created-select"
                class="selectInput"
                onchange="toggleDateRange(this.value)"
                data-filter="created"
            >
                <option value="any">Any time</option>
                <option value="today">Today</option>
                <option value="week">This week</option>
                <option value="custom">Custom range</option>
            </select>
            <div class="customDateRange hidden" id="customDateRange">
                <input type="date" class="dateInput" aria-label="Start date" id="startDate" onchange="applyFilters()">
                <span class="dateSeparator">to</span>
                <input type="date" class="dateInput" aria-label="End date" id="endDate" onchange="applyFilters()">
            </div>
        </div>

        <div class="filterGroup">
            <label class="filterGroupLabel" for="supplier-select">
                Supplier
            </label>
            <select id="supplier-select" class="selectInput" onchange="applyFilters()" data-filter="supplier">
                <option value="" disabled selected>
                    Select supplier
                </option>
                <option value="alpha">Alpha Foods</option>
                <option value="beta">Beta Supplies</option>
                <option value="gamma">Gamma Traders</option>
            </select>
        </div>

        <div class="filterGroup">
            <label class="filterGroupLabel" for="status-select">
                Product status
            </label>
            <select id="status-select" class="selectInput" onchange="applyFilters()" data-filter="status">
                <option value="" disabled selected>
                    Select status
                </option>
                <option value="active">Active</option>
                <option value="archived">Archived</option>
                <option value="draft">Draft</option>
            </select>
        </div>

        <div class="filterGroup">
            <span class="filterGroupLabel">For sale</span>
            <div class="toggleGroup" role="group" aria-label="For sale">
                <button type="button" class="toggleButton toggleButtonActive" aria-pressed="true" data-value="all" onclick="toggleForSale(this)">
                    All
                </button>
                <button type="button" class="toggleButton" aria-pressed="false" data-value="yes" onclick="toggleForSale(this)">
                    Yes
                </button>
                <button type="button" class="toggleButton" aria-pressed="false" data-value="no" onclick="toggleForSale(this)">
                    No
                </button>
            </div>
        </div>

        <div class="filterGroup">
            <button type="button" class="secondaryButton" onclick="resetFilters()" style="width: 100%;">
                <i class="fas fa-redo" aria-hidden="true"></i>
                <span>Reset Filters</span>
            </button>
        </div>
    </form>
</aside>